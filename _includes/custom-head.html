{% if page.url == "/" %}
  <style>
    /* Home page animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @-webkit-keyframes fadeIn {
      from { opacity: 0; -webkit-transform: translateY(10px); }
      to { opacity: 1; -webkit-transform: translateY(0); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }

    @-webkit-keyframes pulse {
      0% { -webkit-transform: scale(1); }
      50% { -webkit-transform: scale(1.03); }
      100% { -webkit-transform: scale(1); }
    }

    @keyframes borderGlow {
      0% { box-shadow: 0 0 5px rgba(125, 140, 109, 0.2); }
      50% { box-shadow: 0 0 15px rgba(125, 140, 109, 0.4); }
      100% { box-shadow: 0 0 5px rgba(125, 140, 109, 0.2); }
    }

    @-webkit-keyframes borderGlow {
      0% { -webkit-box-shadow: 0 0 5px rgba(125, 140, 109, 0.2); }
      50% { -webkit-box-shadow: 0 0 15px rgba(125, 140, 109, 0.4); }
      100% { -webkit-box-shadow: 0 0 5px rgba(125, 140, 109, 0.2); }
    }

    /* CSS animation classes - apply simple animation with fallbacks */
    .fade-in {
      -webkit-animation: fadeIn 0.8s ease-out forwards;
      animation: fadeIn 0.8s ease-out forwards;
    }

    /* Important: Ensure all content is visible by default, animation optional */
    .home-content h2, 
    .home-content p, 
    .home-content ul, 
    .post-item,
    .lab-showcase,
    .btn-outline-primary {
      opacity: 1 !important; /* Force visibility */
    }

    .delay-100 { -webkit-animation-delay: 0.1s; animation-delay: 0.1s; }
    .delay-200 { -webkit-animation-delay: 0.2s; animation-delay: 0.2s; }
    .delay-300 { -webkit-animation-delay: 0.3s; animation-delay: 0.3s; }
    .delay-400 { -webkit-animation-delay: 0.4s; animation-delay: 0.4s; }
    .delay-500 { -webkit-animation-delay: 0.5s; animation-delay: 0.5s; }
    .delay-600 { -webkit-animation-delay: 0.6s; animation-delay: 0.6s; }
    .delay-700 { -webkit-animation-delay: 0.7s; animation-delay: 0.7s; }
    .delay-800 { -webkit-animation-delay: 0.8s; animation-delay: 0.8s; }
    .delay-900 { -webkit-animation-delay: 0.9s; animation-delay: 0.9s; }

    /* Base styles ensuring content visibility */
    .home-content {
      margin-bottom: 3rem;
    }

    /* Element styles */
    .home-content h2 {
      margin-top: 2rem;
      margin-bottom: 1rem;
      display: inline-block;
    }

    .home-content h2:first-child {
      margin-top: 0;
    }

    .home-content h2:first-child:after {
      content: "ðŸ§ª";
      font-size: 0.8em;
      margin-left: 8px;
      opacity: 0.8;
      display: inline-block;
      -webkit-animation: pulse 3s infinite ease-in-out;
      animation: pulse 3s infinite ease-in-out;
    }

    .home-content p {
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    .home-content ul {
      margin-bottom: 1.5rem;
      padding-left: 1.5rem;
    }

    .home-content ul li {
      margin-bottom: 0.5rem;
      -webkit-transition: -webkit-transform 0.2s ease, color 0.2s ease;
      transition: transform 0.2s ease, color 0.2s ease;
    }

    .home-content ul li:hover {
      -webkit-transform: translateX(5px);
      transform: translateX(5px);
      color: #7D8C6D; /* moss green for links */
    }

    .home-content hr {
      margin: 2rem 0;
      border: none;
      height: 1px;
      background: linear-gradient(90deg, transparent, #E5E5E5, transparent);
    }

    .home-content em {
      display: block;
      text-align: center;
      font-style: italic;
      color: #BDBDBD;
      padding: 20px 10px;
      position: relative;
      margin: 10px 0;
    }

    /* Remove the pseudo-element approach that was causing issues */
    .home-content .quote-container {
      display: inline-block;
      position: relative;
    }

    .home-content .quote-mark {
      color: #BDBDBD;
      opacity: 0.4;
      font-size: 1.5em;
      font-style: normal;
      line-height: 0;
      vertical-align: middle;
      padding: 0 4px;
    }

    /* Lab showcase */
    .lab-showcase {
      border: 1px solid #E5E5E5;
      border-radius: 4px;
      padding: 20px;
      margin: 20px 0;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(125, 140, 109, 0.3);
      display: block !important; /* Force display */
      background-color: rgba(30, 30, 30, 0.3); /* Subtle background in dark mode */
    }

    .lab-showcase:before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(135deg, rgba(107, 122, 143, 0.05) 25%, transparent 25%) -10px 0,
        linear-gradient(225deg, rgba(107, 122, 143, 0.05) 25%, transparent 25%) -10px 0,
        linear-gradient(315deg, rgba(107, 122, 143, 0.05) 25%, transparent 25%),
        linear-gradient(45deg, rgba(107, 122, 143, 0.05) 25%, transparent 25%);
      background-size: 20px 20px;
      z-index: -1;
    }

    .lab-showcase h2 {
      margin-top: 0 !important;
      display: block !important;
      width: 100% !important;
    }

    /* Post list */
    .post-list {
      margin-top: 2rem;
    }

    .post-item {
      margin-bottom: 2rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid #E5E5E5;
    }

    .post-item:last-child {
      border-bottom: none;
    }

    .post-item:hover {
      -webkit-transform: translateY(-3px);
      transform: translateY(-3px);
      -webkit-transition: -webkit-transform 0.3s ease;
      transition: transform 0.3s ease;
    }

    .post-item h3 {
      margin-bottom: 0.5rem;
    }

    .post-item h3 a {
      -webkit-transition: color 0.2s ease;
      transition: color 0.2s ease;
      position: relative;
    }

    .post-item h3 a:hover {
      text-decoration: none;
    }

    .post-item .post-meta {
      font-size: 0.875rem;
      color: #BDBDBD;
      margin-bottom: 0.75rem;
    }

    .post-item .post-date,
    .post-item .post-categories {
      margin-right: 1rem;
    }

    .post-item .post-meta i {
      -webkit-transition: -webkit-transform 0.3s ease;
      transition: transform 0.3s ease;
    }

    .post-item .post-meta:hover i {
      -webkit-transform: translateY(-2px);
      transform: translateY(-2px);
    }

    .post-item .post-excerpt {
      font-size: 1rem;
      margin-top: 0.5rem;
    }

    /* Button styling */
    .btn-outline-primary {
      position: relative;
      overflow: hidden;
      -webkit-transition: all 0.3s ease;
      transition: all 0.3s ease;
      z-index: 1;
    }

    .btn-outline-primary:hover {
      -webkit-transform: translateY(-2px);
      transform: translateY(-2px);
    }

    /* Accessibility and fallbacks */
    @media (prefers-reduced-motion: reduce) {
      .fade-in {
        opacity: 1 !important;
        -webkit-animation: none !important;
        animation: none !important;
        -webkit-transform: none !important;
        transform: none !important;
      }
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // First ensure all content is visible regardless of animations
      var elements = document.querySelectorAll('.home-content h2, .home-content p, .lab-showcase, .home-content ul, .post-item, .btn-outline-primary');
      for (var i = 0; i < elements.length; i++) {
        elements[i].style.opacity = '1';
      }
      
      // Make sure lab-showcase is visible
      var showcase = document.querySelector('.lab-showcase');
      if (showcase) {
        showcase.style.display = 'block';
        showcase.style.opacity = '1';
      }
      
      // Then try to apply animations if supported
      try {
        // Apply animation classes directly
        var animElements = [
          { selector: '.home-content h2:nth-child(1)', delay: 'delay-100' },
          { selector: '.home-content h2:nth-child(3)', delay: 'delay-200' },
          { selector: '.home-content h2:nth-child(5)', delay: 'delay-300' },
          { selector: '.home-content h2:nth-child(7)', delay: 'delay-400' },
          { selector: '.home-content h2:nth-child(9)', delay: 'delay-500' },
          { selector: '.home-content p', delay: 'delay-200' },
          { selector: '.home-content ul', delay: 'delay-300' },
          { selector: '.home-content hr', delay: 'delay-800' },
          { selector: '.home-content em', delay: 'delay-900' },
          { selector: '.lab-showcase', delay: 'delay-200' },
          { selector: '.post-item:nth-child(1)', delay: 'delay-300' },
          { selector: '.post-item:nth-child(2)', delay: 'delay-400' },
          { selector: '.post-item:nth-child(3)', delay: 'delay-500' },
          { selector: '.post-item:nth-child(4)', delay: 'delay-600' },
          { selector: '.post-item:nth-child(5)', delay: 'delay-700' },
          { selector: '.btn-outline-primary', delay: 'delay-800' }
        ];
        
        // Apply classes
        animElements.forEach(function(item) {
          var elems = document.querySelectorAll(item.selector);
          for (var i = 0; i < elems.length; i++) {
            elems[i].classList.add('fade-in', item.delay);
          }
        });
      } catch (e) {
        // If animations fail, content is still visible
        console.log('Animation application failed, but content remains visible');
      }
    });
  </script>
{% endif %} 